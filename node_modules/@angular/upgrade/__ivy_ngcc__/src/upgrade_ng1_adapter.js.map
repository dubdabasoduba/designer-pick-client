{"version":3,"file":"upgrade_ng1_adapter.js","sources":["../../../../modules/@angular/upgrade/src/upgrade_ng1_adapter.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directive, DoCheck, ElementRef, EventEmitter, Inject, OnChanges, OnInit, SimpleChange, SimpleChanges, Type} from '@angular/core';\n\nimport * as angular from './angular_js';\nimport {NG1_COMPILE, NG1_CONTROLLER, NG1_HTTP_BACKEND, NG1_SCOPE, NG1_TEMPLATE_CACHE} from './constants';\nimport {controllerKey} from './util';\n\nconst CAMEL_CASE = /([A-Z])/g;\nconst INITIAL_VALUE = {\n  __UNINITIALIZED__: true\n};\nconst NOT_SUPPORTED: any = 'NOT_SUPPORTED';\n\n\nexport class UpgradeNg1ComponentAdapterBuilder {\n  type: Type<any>;\n  inputs: string[] = [];\n  inputsRename: string[] = [];\n  outputs: string[] = [];\n  outputsRename: string[] = [];\n  propertyOutputs: string[] = [];\n  checkProperties: string[] = [];\n  propertyMap: {[name: string]: string} = {};\n  linkFn: angular.ILinkFn = null;\n  directive: angular.IDirective = null;\n  $controller: angular.IControllerService = null;\n\n  constructor(public name: string) {\n    const selector = name.replace(\n        CAMEL_CASE, (all: any /** TODO #9100 */, next: string) => '-' + next.toLowerCase());\n    const self = this;\n    this.type =\n        Directive({selector: selector, inputs: this.inputsRename, outputs: this.outputsRename})\n            .Class({\n              constructor: [\n                new Inject(NG1_SCOPE), ElementRef,\n                function(scope: angular.IScope, elementRef: ElementRef) {\n                  return new UpgradeNg1ComponentAdapter(\n                      self.linkFn, scope, self.directive, elementRef, self.$controller, self.inputs,\n                      self.outputs, self.propertyOutputs, self.checkProperties, self.propertyMap);\n                }\n              ],\n              ngOnInit: function() { /* needs to be here for ng2 to properly detect it */ },\n              ngOnChanges: function() { /* needs to be here for ng2 to properly detect it */ },\n              ngDoCheck: function() { /* needs to be here for ng2 to properly detect it */ }\n            });\n  }\n\n  extractDirective(injector: angular.IInjectorService): angular.IDirective {\n    const directives: angular.IDirective[] = injector.get(this.name + 'Directive');\n    if (directives.length > 1) {\n      throw new Error('Only support single directive definition for: ' + this.name);\n    }\n    const directive = directives[0];\n    if (directive.replace) this.notSupported('replace');\n    if (directive.terminal) this.notSupported('terminal');\n    const link = directive.link;\n    if (typeof link == 'object') {\n      if ((<angular.IDirectivePrePost>link).post) this.notSupported('link.post');\n    }\n    return directive;\n  }\n\n  private notSupported(feature: string) {\n    throw new Error(`Upgraded directive '${this.name}' does not support '${feature}'.`);\n  }\n\n  extractBindings() {\n    const btcIsObject = typeof this.directive.bindToController === 'object';\n    if (btcIsObject && Object.keys(this.directive.scope).length) {\n      throw new Error(\n          `Binding definitions on scope and controller at the same time are not supported.`);\n    }\n\n    const context = (btcIsObject) ? this.directive.bindToController : this.directive.scope;\n\n    if (typeof context == 'object') {\n      for (const name in context) {\n        if ((<any>context).hasOwnProperty(name)) {\n          let localName = context[name];\n          const type = localName.charAt(0);\n          const typeOptions = localName.charAt(1);\n          localName = typeOptions === '?' ? localName.substr(2) : localName.substr(1);\n          localName = localName || name;\n\n          const outputName = 'output_' + name;\n          const outputNameRename = outputName + ': ' + name;\n          const outputNameRenameChange = outputName + ': ' + name + 'Change';\n          const inputName = 'input_' + name;\n          const inputNameRename = inputName + ': ' + name;\n          switch (type) {\n            case '=':\n              this.propertyOutputs.push(outputName);\n              this.checkProperties.push(localName);\n              this.outputs.push(outputName);\n              this.outputsRename.push(outputNameRenameChange);\n              this.propertyMap[outputName] = localName;\n              this.inputs.push(inputName);\n              this.inputsRename.push(inputNameRename);\n              this.propertyMap[inputName] = localName;\n              break;\n            case '@':\n            // handle the '<' binding of angular 1.5 components\n            case '<':\n              this.inputs.push(inputName);\n              this.inputsRename.push(inputNameRename);\n              this.propertyMap[inputName] = localName;\n              break;\n            case '&':\n              this.outputs.push(outputName);\n              this.outputsRename.push(outputNameRename);\n              this.propertyMap[outputName] = localName;\n              break;\n            default:\n              let json = JSON.stringify(context);\n              throw new Error(\n                  `Unexpected mapping '${type}' in '${json}' in '${this.name}' directive.`);\n          }\n        }\n      }\n    }\n  }\n\n  compileTemplate(\n      compile: angular.ICompileService, templateCache: angular.ITemplateCacheService,\n      httpBackend: angular.IHttpBackendService): Promise<angular.ILinkFn> {\n    if (this.directive.template !== undefined) {\n      this.linkFn = compileHtml(\n          typeof this.directive.template === 'function' ? this.directive.template() :\n                                                          this.directive.template);\n    } else if (this.directive.templateUrl) {\n      const url = typeof this.directive.templateUrl === 'function' ? this.directive.templateUrl() :\n                                                                     this.directive.templateUrl;\n      const html = templateCache.get(url);\n      if (html !== undefined) {\n        this.linkFn = compileHtml(html);\n      } else {\n        return new Promise((resolve, err) => {\n          httpBackend(\n              'GET', url, null,\n              (status: any /** TODO #9100 */, response: any /** TODO #9100 */) => {\n                if (status == 200) {\n                  resolve(this.linkFn = compileHtml(templateCache.put(url, response)));\n                } else {\n                  err(`GET ${url} returned ${status}: ${response}`);\n                }\n              });\n        });\n      }\n    } else {\n      throw new Error(`Directive '${this.name}' is not a component, it is missing template.`);\n    }\n    return null;\n    function compileHtml(html: any /** TODO #9100 */): angular.ILinkFn {\n      const div = document.createElement('div');\n      div.innerHTML = html;\n      return compile(div.childNodes);\n    }\n  }\n\n  /**\n   * Upgrade ng1 components into Angular 2.\n   */\n  static resolve(\n      exportedComponents: {[name: string]: UpgradeNg1ComponentAdapterBuilder},\n      injector: angular.IInjectorService): Promise<angular.ILinkFn[]> {\n    const promises: Promise<angular.ILinkFn>[] = [];\n    const compile: angular.ICompileService = injector.get(NG1_COMPILE);\n    const templateCache: angular.ITemplateCacheService = injector.get(NG1_TEMPLATE_CACHE);\n    const httpBackend: angular.IHttpBackendService = injector.get(NG1_HTTP_BACKEND);\n    const $controller: angular.IControllerService = injector.get(NG1_CONTROLLER);\n    for (const name in exportedComponents) {\n      if ((<any>exportedComponents).hasOwnProperty(name)) {\n        const exportedComponent = exportedComponents[name];\n        exportedComponent.directive = exportedComponent.extractDirective(injector);\n        exportedComponent.$controller = $controller;\n        exportedComponent.extractBindings();\n        const promise: Promise<angular.ILinkFn> =\n            exportedComponent.compileTemplate(compile, templateCache, httpBackend);\n        if (promise) promises.push(promise);\n      }\n    }\n    return Promise.all(promises);\n  }\n}\n\nclass UpgradeNg1ComponentAdapter implements OnInit, OnChanges, DoCheck {\n  destinationObj: any = null;\n  checkLastValues: any[] = [];\n  componentScope: angular.IScope;\n  element: Element;\n  $element: any = null;\n\n  constructor(\n      private linkFn: angular.ILinkFn, scope: angular.IScope, private directive: angular.IDirective,\n      elementRef: ElementRef, private $controller: angular.IControllerService,\n      private inputs: string[], private outputs: string[], private propOuts: string[],\n      private checkProperties: string[], private propertyMap: {[key: string]: string}) {\n    this.element = elementRef.nativeElement;\n    this.componentScope = scope.$new(!!directive.scope);\n    this.$element = angular.element(this.element);\n    const controllerType = directive.controller;\n    if (directive.bindToController && controllerType) {\n      this.destinationObj = this.buildController(controllerType);\n    } else {\n      this.destinationObj = this.componentScope;\n    }\n\n    for (let i = 0; i < inputs.length; i++) {\n      (this as any /** TODO #9100 */)[inputs[i]] = null;\n    }\n    for (let j = 0; j < outputs.length; j++) {\n      const emitter = (this as any /** TODO #9100 */)[outputs[j]] = new EventEmitter();\n      this.setComponentProperty(\n          outputs[j], ((emitter: any /** TODO #9100 */) => (value: any /** TODO #9100 */) =>\n                           emitter.emit(value))(emitter));\n    }\n    for (let k = 0; k < propOuts.length; k++) {\n      (this as any /** TODO #9100 */)[propOuts[k]] = new EventEmitter();\n      this.checkLastValues.push(INITIAL_VALUE);\n    }\n  }\n\n  ngOnInit() {\n    if (!this.directive.bindToController && this.directive.controller) {\n      this.buildController(this.directive.controller);\n    }\n    let link = this.directive.link;\n    if (typeof link == 'object') link = (<angular.IDirectivePrePost>link).pre;\n    if (link) {\n      const attrs: angular.IAttributes = NOT_SUPPORTED;\n      const transcludeFn: angular.ITranscludeFunction = NOT_SUPPORTED;\n      const linkController = this.resolveRequired(this.$element, this.directive.require);\n      (<angular.IDirectiveLinkFn>this.directive.link)(\n          this.componentScope, this.$element, attrs, linkController, transcludeFn);\n    }\n\n    const childNodes: Node[] = [];\n    let childNode: any /** TODO #9100 */;\n    while (childNode = this.element.firstChild) {\n      this.element.removeChild(childNode);\n      childNodes.push(childNode);\n    }\n    this.linkFn(this.componentScope, (clonedElement, scope) => {\n      for (let i = 0, ii = clonedElement.length; i < ii; i++) {\n        this.element.appendChild(clonedElement[i]);\n      }\n    }, {\n      parentBoundTranscludeFn: (scope: any /** TODO #9100 */,\n                                cloneAttach: any /** TODO #9100 */) => { cloneAttach(childNodes); }\n    });\n    if (this.destinationObj.$onInit) {\n      this.destinationObj.$onInit();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    for (const name in changes) {\n      if ((<Object>changes).hasOwnProperty(name)) {\n        const change: SimpleChange = changes[name];\n        this.setComponentProperty(name, change.currentValue);\n      }\n    }\n  }\n\n  ngDoCheck(): number {\n    const count = 0;\n    const destinationObj = this.destinationObj;\n    const lastValues = this.checkLastValues;\n    const checkProperties = this.checkProperties;\n    for (let i = 0; i < checkProperties.length; i++) {\n      const value = destinationObj[checkProperties[i]];\n      const last = lastValues[i];\n      if (value !== last) {\n        if (typeof value == 'number' && isNaN(value) && typeof last == 'number' && isNaN(last)) {\n          // ignore because NaN != NaN\n        } else {\n          const eventEmitter: EventEmitter<any> = (this as any /** TODO #9100 */)[this.propOuts[i]];\n          eventEmitter.emit(lastValues[i] = value);\n        }\n      }\n    }\n    return count;\n  }\n\n  setComponentProperty(name: string, value: any) {\n    this.destinationObj[this.propertyMap[name]] = value;\n  }\n\n  private buildController(controllerType: any /** TODO #9100 */) {\n    const locals = {$scope: this.componentScope, $element: this.$element};\n    const controller: any =\n        this.$controller(controllerType, locals, null, this.directive.controllerAs);\n    this.$element.data(controllerKey(this.directive.name), controller);\n    return controller;\n  }\n\n  private resolveRequired(\n      $element: angular.IAugmentedJQuery, require: angular.DirectiveRequireProperty): any {\n    if (!require) {\n      return undefined;\n    } else if (typeof require == 'string') {\n      let name: string = <string>require;\n      let isOptional = false;\n      let startParent = false;\n      let searchParents = false;\n      if (name.charAt(0) == '?') {\n        isOptional = true;\n        name = name.substr(1);\n      }\n      if (name.charAt(0) == '^') {\n        searchParents = true;\n        name = name.substr(1);\n      }\n      if (name.charAt(0) == '^') {\n        startParent = true;\n        name = name.substr(1);\n      }\n\n      const key = controllerKey(name);\n      if (startParent) $element = $element.parent();\n      const dep = searchParents ? $element.inheritedData(key) : $element.data(key);\n      if (!dep && !isOptional) {\n        throw new Error(`Can not locate '${require}' in '${this.directive.name}'.`);\n      }\n      return dep;\n    } else if (require instanceof Array) {\n      const deps: any[] = [];\n      for (let i = 0; i < require.length; i++) {\n        deps.push(this.resolveRequired($element, require[i]));\n      }\n      return deps;\n    }\n    throw new Error(\n        `Directive '${this.directive.name}' require syntax unrecognized: ${this.directive.require}`);\n  }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}