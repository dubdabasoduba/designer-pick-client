<!--
  ~ Copyright (c) 2019. The content in this file is Protected by the copyright laws of kenya and owned by Re.Kast Limited.
  ~ Reproducing it in any way or using it without permission from Re.Kast Limited will be a violation of kenyan copyrights law.
  ~ This may be subject to prosecution according to the kenyan law
  -->
<app-navigation></app-navigation>
<div class="pcoded-main-container" style="margin-top: 80px;">
	<div class="pcoded-wrapper">
		<app-sidebar></app-sidebar>
		<div class="pcoded-content">
			<div class="pcoded-inner-content">
				<div class="main-body">
					<div class="page-wrapper">
						<div class="page-body">
							<div class="row">
								<div class="col-md-12">
									<app-alert></app-alert>
								</div>
							</div>
							<div *ngIf="display">
								<div *ngIf="!claimed" class="row">
									<div class="col-md-12 col-xl-12">
										<div class="alert alert-danger">
											<a (click)="claimProfile()"
											   class="btn btn-xs btn-danger text-white pull-right">Send Instructions&nbsp;<i
												aria-hidden="true" class="fa fa-send"></i></a>
											<strong>Claim Profile!</strong>&nbsp;Please check your re.kast io registered
											email
											for profile claiming instructions.
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-md-12">
										<div class="cover-profile">
											<div class="profile-bg-img">
												<img alt="bg-img"
												     class="profile-bg-img img-fluid" src="assets/images/covermain.png">
												<div class="card-block user-info">
													<div class="col-md-12">
														<div class="media-left">
															<a class="profile-image" routerLink="/entity/{{entity.id}}">
																<img
																	alt=""
																	class="user-img img-radius profile-pics user-image-background"
																	height="150px" src="{{entity.iconImage}}"
																	style="" width="150px">
															</a>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-lg-12">
										<div class="tab-header card">
											<ul class="nav nav-tabs md-tabs tab-timeline" id="mytab" role="tablist">
												<li class="nav-item">
													<a aria-expanded="true" class="nav-link active" data-toggle="tab"
													   href="#demoGraphics"
													   role="tab"><b>Company | School Information</b></a>
													<div class="slide"></div>
												</li>
												<li class="nav-item">
													<a aria-expanded="false" class="nav-link" data-toggle="tab"
													   href="#entityInvestors"
													   role="tab"><b>Investors & Subsidiaries</b></a>
													<div class="slide"></div>
												</li>
												<li class="nav-item">
													<a aria-expanded="false" class="nav-link" data-toggle="tab"
													   href="#entityBrief"
													   role="tab"><b>Investments and Acquisitions</b></a>
													<div class="slide"></div>
												</li>
											</ul>
										</div>
										<div class="tab-content">
											<div aria-expanded="true" class="tab-pane active" id="demoGraphics"
											     role="tabpanel">
												<div class="card">
													<div class="card-header">
														<h5 class="title"><b>{{entity.name}}</b></h5>
													</div>
													<div class="card-block">
														<div class="view-info">
															<div class="general-info">
																<div class="row">
																	<div class="col-lg-6 col-xl-6">
																		<div class="table-responsive">
																			<table class="table m-0">
																				<tbody>
																				<tr>
																					<th scope="row">Operating status</th>
																					<td>{{entity.operationalStatus}}</td>
																				</tr>
																				<tr>
																					<th scope="row">Category</th>
																					<td *ngIf="industry.length <= 0">
																						Not Disclosed
																					</td>
																					<td *ngIf="industry.length > 0"
																					    style="white-space: normal">
																						<a *ngFor="let category of industry"
																						   routerLink="/industry/{{category.category._id}}">{{category.category.name}}
																							,&nbsp;</a>
																					</td>
																				</tr>
																				<tr>
																					<th scope="row">Founders</th>
																					<td *ngIf="founders.length <= 0">
																						Not Disclosed
																					</td>
																					<td *ngIf="founders.length > 0">
																						<b *ngFor="let founder of founders">
																							<a *ngIf="!founder.type"
																							   routerLink="/entity/{{founder.entityId}}">{{founder.entity}}
																								,&nbsp;</a>
																							<a *ngIf="founder.type"
																							   routerLink="/person/{{founder.entityId}}">{{founder.entity}}
																								,&nbsp;</a>
																						</b>
																					</td>
																				</tr>
																				<tr>
																					<th scope="row">Date Founded</th>
																					<td>{{entity.founded}}</td>
																				</tr>
																				<tr>
																					<th scope="row">Head Quarters</th>
																					<td>
																						<a>&nbsp;{{entity.headquarter}}</a>
																					</td>
																				</tr>
																				<tr>
																					<th scope="row">Number of Employees
																					</th>
																					<td>{{entity.employees}}</td>
																				</tr>
																				</tbody>
																			</table>
																		</div>
																	</div>
																	<div class="col-lg-6 col-xl-6">
																		<div class="table-responsive">
																			<table class="table m-0">
																				<tbody>
																				<tr>
																					<th scope="row">Valuation
																					</th>
																					<td>{{entity.valuation}}</td>
																				</tr>
																				<tr>
																					<th scope="row">Is Investor?
																					</th>
																					<td>{{entity.investor}}</td>
																				</tr>
																				<tr *ngFor="let link of social_media">
																					<th scope="row">{{link.link_type.name}}</th>
																					<td><a href="{{link.link}}"
																					       target="_blank">&nbsp;&nbsp;{{link.display}}</a><br/>
																					</td>
																				</tr>
																				</tbody>
																			</table>
																		</div>
																	</div>
																</div>
																<br/><br/>
																<div class="row">
																	<div class="col-md-12">
																		<h5 class="description-title">About</h5>
																		<hr/>
																		<p class="text-justify">
																			{{entity.description}}
																		</p>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
												<div class="card">
													<div class="card-header">
														<h5>Contact Details</h5>
														<span>A list of all the contact details for {{entity.name}}</span>
														<div class="card-header-right"><i
															class="icofont icofont-spinner-alt-5"></i></div>
													</div>
													<div class="card-block">
														<div class="dt-responsive  table-responsive">
															<table
																class="table table-striped table-hover table-condensed nowrap">
																<thead>
																<tr>
																	<th>Country</th>
																	<th>County</th>
																	<th>Phone Number</th>
																	<th>Email</th>
																	<th class="text-right">Is Primary</th>
																</tr>
																</thead>
																<tbody>
																<tr *ngIf="contacts.length <= 0">
																	<td class="text-center" colspan="6">
																		{{entity.name}} has no recorded contacts
																	</td>
																</tr>
																<tr *ngFor="let contact of contacts">
																	<td>{{contact.country}}</td>
																	<td>{{contact.county}}</td>
																	<td>{{contact.phonenumber}}</td>
																	<td>
																		<a href="mailto:{{contact.email}}?Subject=Mail%20from%20Re.Kast%20IO"
																		   target="_blank"><b>{{contact.email}}</b></a>
																	</td>
																	<td class="text-right">{{contact.primary}}</td>
																</tr>
																</tbody>
															</table>
														</div>
													</div>
												</div>
												<div *ngIf="pitch_video !== null" class="card">
													<div class="card-header">
														<h5>Pitch Video from {{entity.name}}</h5>
														<hr/>
													</div>
													<div class="card-block">
														<div class="row">
															<iframe [src]="pitch_video" allowfullscreen frameborder="0" height="500"
															        width="98%">
															</iframe>
														</div>
													</div>
												</div>
											</div>
											<div aria-expanded="false" class="tab-pane" id="entityInvestors" role="tabpanel">
												<div class="card">
													<div class="card-header">
														<h5>Investors</h5>
														<span>This table show a list of all the investors who have
														invested in {{entity.name}}</span>
														<div class="card-header-right"><i
															class="icofont icofont-spinner-alt-5"></i></div>
													</div>
													<div class="card-block">
														<div class="dt-responsive  table-responsive">
															<table
																class="table table-striped table-hover table-condensed nowrap">
																<thead>
																<tr>
																	<th class="text-center">#</th>
																	<th class="text-left">Funding Round</th>
																	<th class="text-left">Investors Name</th>
																	<th class="text-center">Lead Investor</th>
																	<th class="text-right">Funding Date</th>
																</tr>
																</thead>
																<tbody>
																<tr *ngIf="investors.length <= 0">
																	<td class="text-center" colspan="5">
																		{{entity.name}} has no recorded investors
																	</td>
																</tr>
																<tr *ngFor="let investor of investors; let i = index">
																	<td class="text-center">{{i + 1}}</td>
																	<td class="text-left"><a
																		routerLink="/funding/{{investor.id}}">{{investor.name}}</a>
																	</td>
																	<td class="text-left">
																		<div *ngIf="investor.sponsorType"
																		     class="search-content">
																			<img class="card-img-top  card-img-bottom"
																			     height="20px"
																			     src="{{investor.entityIconImage}}"
																			     width="20px">&nbsp;&nbsp;
																			<a routerLink="/entity/{{investor.sponsorId}}"><b>{{investor.sponsorName}}</b>&nbsp;&nbsp;</a>
																		</div>
																		<div *ngIf="!investor.sponsorType"
																		     class="search-content">
																			<img class="card-img-top  card-img-bottom"
																			     height="20px"
																			     src="{{investor.entityIconImage}}"
																			     width="20px">&nbsp;&nbsp;
																			<a routerLink="/person/{{investor.sponsorId}}"><b>{{investor.sponsorName}}</b>&nbsp;&nbsp;</a>
																		</div>
																	</td>
																	<td class="text-center">{{investor.isLargest}}</td>
																	<td class="text-right">{{investor.funding_date}}</td>
																</tr>
																</tbody>
																<tfoot>
																<tr>
																	<th class="text-center">#</th>
																	<th class="text-left">Funding Round</th>
																	<th class="text-left">Investors Name</th>
																	<th class="text-center">Lead Investor</th>
																	<th class="text-right">Funding Date</th>
																</tr>
																</tfoot>
															</table>
														</div>
													</div>
												</div>
												<br/>
												<div class="card">
													<div class="card-header">
														<h5>Subsidiaries</h5>
														<span>Displays {{entity.name}}'s subsidiaries.</span>
														<div class="card-header-right"><i
															class="icofont icofont-spinner-alt-5"></i></div>
													</div>
													<div class="card-block">
														<div class="dt-responsive  table-responsive">
															<table
																class="table table-striped table-hover table-condensed nowrap">
																<thead>
																<tr>
																	<th class="text-center">#</th>
																	<th>Organisation Name</th>
																	<th>Categories</th>
																	<th class="text-right">Date Founded</th>
																</tr>
																</thead>
																<tbody>
																<tr *ngIf="subsidiaries <=0">
																	<td class="text-center" colspan="4">{{entity.name}} has
																		no
																		subsidiaries
																	</td>
																</tr>
																<tr *ngFor="let subsidiary of subsidiaries; let i = index">
																	<td class="text-center">{{i + 1}}</td>
																	<td>
																		<div class="search-content">
																			<img alt="" class="card-img-top card-img-bottom"
																			     height="20px"
																			     src="{{subsidiary.entityIconImage}}"
																			     width="20px">&nbsp;&nbsp;
																			<a routerLink="/entity/{{subsidiary.id}}">
																				{{subsidiary.name}}</a>
																		</div>
																	</td>
																	<td>
																		<b *ngFor="let category of subsidiary.categories;">
																			<a
																				routerLink="/industry/{{category.category._id}}">{{category.category.name}}&nbsp;&nbsp;</a>
																		</b>
																	</td>
																	<td class="text-right">{{subsidiary.founded}}</td>
																</tr>
																</tbody>
																<tfoot>
																<tr>
																	<th class="text-center">#</th>
																	<th>Organisation Name</th>
																	<th>Categories</th>
																	<th class="text-right">Date Founded</th>
																</tr>
																</tfoot>
															</table>
														</div>
													</div>
												</div>
											</div>
											<div aria-expanded="false" class="tab-pane" id="entityBrief" role="tabpanel">
												<div class="card">
													<div class="card-header">
														<h5>Investments</h5>
														<span>This table give a list of all the investments that have been
													made by {{entity.name}}</span>
														<div class="card-header-right"><i
															class="icofont icofont-spinner-alt-5"></i></div>
													</div>
													<div class="card-block">
														<div class="dt-responsive  table-responsive">
															<table
																class="table table-striped table-hover table-condensed nowrap">
																<thead>
																<tr>
																	<th class="text-center">#</th>
																	<th>Funding Round</th>
																	<th>Organisation Name</th>
																	<th class="text-center">Amount Funded&nbsp;|&nbsp;Funding
																		Type
																	</th>
																	<th class="text-right">Lead Investor</th>
																</tr>
																</thead>
																<tbody>
																<tr *ngIf="investments.length <= 0">
																	<td class="text-center" colspan="5">{{entity.name}} has
																		not
																		made any
																		investments
																	</td>
																</tr>
																<tr *ngFor="let funding of investments; let i = index">
																	<td class="text-center">{{i + 1}}</td>
																	<td><a
																		routerLink="/funding/{{funding.id}}">{{funding.name}}</a>
																	</td>
																	<td>
																		<div class="search-content">
																			<img alt=""
																			     class="card-img-top card-img-bottom"
																			     height="20px"
																			     src="{{funding.entityIconImage}}"
																			     width="20px">&nbsp;&nbsp;
																			<a
																				routerLink="/entity/{{funding.entityId}}">{{funding.entity}}</a>
																		</div>
																	</td>
																	<td class="text-center">
																		&#36;{{funding.amount}}&nbsp;|&nbsp;<a
																		routerLink="/funding-type/{{funding.funding_typeId}}">{{funding.funding_type}}</a>
																	</td>
																	<td class="text-right">{{funding.isLargest}}</td>
																</tr>
																</tbody>
																<tfoot>
																<tr>
																	<th class="text-center">#</th>
																	<th>Funding Round</th>
																	<th>Organisation Name</th>
																	<th class="text-center">Amount Funded&nbsp;|&nbsp;Funding
																		Type
																	</th>
																	<th class="text-right">Lead Investor</th>
																</tr>
																</tfoot>
															</table>
														</div>
													</div>
												</div>
												<div class="card">
													<div class="card-header">
														<h5>Acquisitions</h5>
														<span>This list shows the number of organisations {{entity.name}}
															has acquired</span>
														<div class="card-header-right"><i
															class="icofont icofont-spinner-alt-5"></i></div>
													</div>
													<div class="card-block">
														<div class="dt-responsive  table-responsive">
															<table
																class="table table-striped table-hover table-condensed nowrap">
																<thead>
																<tr>
																	<th class="text-center">#</th>
																	<th>Transaction Name</th>
																	<th>Acquired Organization Name</th>
																	<th class="text-right">Date Announced</th>
																</tr>
																</thead>
																<tbody>
																<tr *ngIf="acquisitions.length <= 0">
																	<td class="text-center" colspan="4">{{entity.name}} has
																		not made any acquisitions
																	</td>
																</tr>
																<tr *ngFor="let acquisition of acquisitions; let i = index">
																	<td class="text-center"><b>{{i + 1}}</b></td>
																	<td><a class=""
																	       routerLink="/acquisition/{{acquisition.id}}">{{acquisition.name}}</a>
																	</td>
																	<td>
																		<div class="search-content">
																			<img class="card-img-top card-img-bottom"
																			     height="20px"
																			     src="{{acquisition.entityIconImage}}"
																			     width="20px">&nbsp;&nbsp;
																			<a class=""
																			   routerLink="/entity/{{acquisition.entityId}}">{{acquisition.entity}}</a>
																		</div>
																	</td>
																	<td class="text-right">{{acquisition.acquisition_date}}</td>
																</tr>
																</tbody>
																<tfoot>
																<tr>
																	<th class="text-center">#</th>
																	<th>Transaction Name</th>
																	<th>Acquired Organization Name</th>
																	<th class="text-right">Date Announced</th>
																</tr>
																</tfoot>
															</table>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div *ngIf="display">
	<a class="float" id="menu-share">
		<span><img class="my-float" src="assets/images/sidebar/menu-18.png"></span>
	</a>
	<ul class="floating-menu">
		<li class="floating-menu-icons">
			<a *ngIf="showEditButtons" class="floating-icon" routerLink="/entity-profile/{{entity.id}}">
				<span><img src="assets/images/sidebar/fl-17.png"></span></a>
			<div class="label-container-entity">
				<div class="label-text">Edit {{entity.name}}</div>
				<i class="fa fa-play label-arrow"></i>
			</div>
		</li>
		<li class="floating-menu-icons">
			<a [queryParams]="{entity:entity.id}" class="floating-icon" routerLink="/add-edit-acquisition">
				<span><img src="assets/images/sidebar/fl-15.png"></span></a>
			<div class="label-container-acquisition">
				<div class="label-text">Add Acquisition</div>
				<i class="fa fa-play label-arrow"></i>
			</div>
		</li>
		<li class="floating-menu-icons">
			<a [queryParams]="{entity:entity.id}" class="floating-icon" routerLink="/add-edit-funding">
				<span><img src="assets/images/sidebar/fl-14.png"></span></a>
			<div class="label-container-funding">
				<div class="label-text">Add Funding</div>
				<i class="fa fa-play label-arrow"></i>
			</div>
		</li>
	</ul>
</div>

